{"ast":null,"code":"import _regeneratorRuntime from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import DataTable from'react-data-table-component';import axios from'axios';import{Link}from'react-router-dom';var CustomerList=/*#__PURE__*/function(_Component){_inherits(CustomerList,_Component);var _super=_createSuper(CustomerList);function CustomerList(props){var _this;_classCallCheck(this,CustomerList);_this=_super.call(this,props);_this.onChangeCustomer=function(e){console.log(e.target);};_this.deleteCustomer=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(id){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return axios.delete('/api/customers/'+id);case 2:_this.getCustomers();case 3:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.state={customers:[],columns:[{selector:'_id',name:'ID'},{selector:'firstName',name:'First Name'},{selector:'lastName',name:'First Name'},{selector:'email',name:'Email'},{selector:'phoneNumber',name:'Phone Number'},{name:'Actions',cell:function cell(row){return/*#__PURE__*/React.createElement(Link,{to:\"/edit/\".concat(row._id),className:\"btn btn-warning\"},\"Edit\");}},{name:'Actions',cell:function cell(row){return/*#__PURE__*/React.createElement(\"button\",{onClick:function onClick(){return _this.deleteCustomer(row._id);},type:\"button\",className:\"btn btn-danger\"},\"Delete\");}}]};return _this;}_createClass(CustomerList,[{key:\"componentDidMount\",value:function componentDidMount(){this.getCustomers();}},{key:\"getCustomers\",value:function(){var _getCustomers=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return axios.get('/api/customers');case 2:res=_context2.sent;this.setState({customers:res.data});case 4:case\"end\":return _context2.stop();}}},_callee2,this);}));function getCustomers(){return _getCustomers.apply(this,arguments);}return getCustomers;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(DataTable,{title:\"Customers\",columns:this.state.columns,data:this.state.customers,pagination:true});}}]);return CustomerList;}(Component);export{CustomerList as default};","map":{"version":3,"sources":["/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/src/components/CustomerList.js"],"names":["React","Component","DataTable","axios","Link","CustomerList","props","onChangeCustomer","e","console","log","target","deleteCustomer","id","delete","getCustomers","state","customers","columns","selector","name","cell","row","_id","get","res","setState","data"],"mappings":"imCAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,SAAP,KAAsB,4BAAtB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,IAAT,KAAqB,kBAArB,C,GAEqBC,CAAAA,Y,4GACjB,sBAAYC,KAAZ,CAAmB,8CACf,uBAAMA,KAAN,EADe,MA2CnBC,gBA3CmB,CA2CA,SAACC,CAAD,CAAO,CACtBC,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAd,EACH,CA7CkB,OA+CnBC,cA/CmB,0FA+CF,iBAAOC,EAAP,wIACPV,CAAAA,KAAK,CAACW,MAAN,CAAa,kBAAoBD,EAAjC,CADO,QAEb,MAAKE,YAAL,GAFa,sDA/CE,+DAEf,MAAKC,KAAL,CAAa,CACTC,SAAS,CAAE,EADF,CAETC,OAAO,CAAE,CACL,CACIC,QAAQ,CAAE,KADd,CAEIC,IAAI,CAAE,IAFV,CADK,CAKL,CACID,QAAQ,CAAE,WADd,CAEIC,IAAI,CAAE,YAFV,CALK,CASL,CACID,QAAQ,CAAE,UADd,CAEIC,IAAI,CAAE,YAFV,CATK,CAaL,CACID,QAAQ,CAAE,OADd,CAEIC,IAAI,CAAE,OAFV,CAbK,CAiBL,CACID,QAAQ,CAAE,aADd,CAEIC,IAAI,CAAE,cAFV,CAjBK,CAqBL,CACIA,IAAI,CAAE,SADV,CAEIC,IAAI,CAAE,cAAAC,GAAG,qBAAI,oBAAC,IAAD,EAAM,EAAE,iBAAWA,GAAG,CAACC,GAAf,CAAR,CAA8B,SAAS,CAAC,iBAAxC,SAAJ,EAFb,CArBK,CAyBL,CACIH,IAAI,CAAE,SADV,CAEIC,IAAI,CAAE,cAAAC,GAAG,qBAAI,8BAAQ,OAAO,CAAE,yBAAM,OAAKV,cAAL,CAAoBU,GAAG,CAACC,GAAxB,CAAN,EAAjB,CAAqD,IAAI,CAAC,QAA1D,CAAmE,SAAS,CAAC,gBAA7E,WAAJ,EAFb,CAzBK,CAFA,CAAb,CAFe,aAmClB,C,sFACmB,CAChB,KAAKR,YAAL,GACH,C,wRAEqBZ,CAAAA,KAAK,CAACqB,GAAN,CAAU,gBAAV,C,QAAZC,G,gBACN,KAAKC,QAAL,CAAc,CAACT,SAAS,CAAEQ,GAAG,CAACE,IAAhB,CAAd,E,kMAWK,CACL,mBACI,oBAAC,SAAD,EACI,KAAK,CAAC,WADV,CAEI,OAAO,CAAE,KAAKX,KAAL,CAAWE,OAFxB,CAGI,IAAI,CAAE,KAAKF,KAAL,CAAWC,SAHrB,CAII,UAAU,CAAE,IAJhB,EADJ,CAQH,C,0BA9DqChB,S,SAArBI,Y","sourcesContent":["import React, { Component } from 'react'\nimport DataTable from 'react-data-table-component'; \nimport axios from 'axios';\nimport { Link } from 'react-router-dom';\n\nexport default class CustomerList extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            customers: [],\n            columns: [\n                {\n                    selector: '_id',\n                    name: 'ID'\n                },\n                {\n                    selector: 'firstName',\n                    name: 'First Name'\n                },\n                {\n                    selector: 'lastName',\n                    name: 'First Name'\n                },\n                {\n                    selector: 'email',\n                    name: 'Email'\n                },\n                {\n                    selector: 'phoneNumber',\n                    name: 'Phone Number'\n                },\n                {\n                    name: 'Actions',\n                    cell: row => <Link to={`/edit/${row._id}`} className=\"btn btn-warning\">Edit</Link>\n                },\n                {\n                    name: 'Actions',\n                    cell: row => <button onClick={() => this.deleteCustomer(row._id)} type=\"button\" className=\"btn btn-danger\">Delete</button>\n                }\n            ]\n        }\n    }\n    componentDidMount() {\n        this.getCustomers();\n    }\n    async getCustomers() {\n        const res = await axios.get('/api/customers');\n        this.setState({customers: res.data});\n    }\n    onChangeCustomer = (e) => {\n        console.log(e.target);\n    }\n\n    deleteCustomer = async (id) => {\n        await axios.delete('/api/customers/' + id);\n        this.getCustomers();\n    }\n    \n    render() {\n        return (\n            <DataTable\n                title=\"Customers\"\n                columns={this.state.columns}\n                data={this.state.customers}\n                pagination={true}\n            />\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _defineProperty from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _regeneratorRuntime from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _classCallCheck from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React,{Component}from'react';import axios from'axios';var createCustomer=/*#__PURE__*/function(_Component){_inherits(createCustomer,_Component);var _super=_createSuper(createCustomer);function createCustomer(){var _this;_classCallCheck(this,createCustomer);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_super.call.apply(_super,[this].concat(args));_this.state={firstName:'',lastName:'',email:'',phoneNumber:'',editing:false,id:''};_this.onSubmit=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var newCustomer;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();newCustomer={firstName:_this.state.firstName,lastName:_this.state.lastName,email:_this.state.email,phoneNumber:_this.state.phoneNumber};if(!_this.state.editing){_context.next=7;break;}_context.next=5;return axios.put('/api/customers/'+_this.state.id,newCustomer);case 5:_context.next=10;break;case 7:_context.next=9;return axios.post('/api/customers',newCustomer);case 9:_this.setState({firstName:'',lastName:'',email:'',phoneNumber:''});case 10:window.location.href='/';case 11:case\"end\":return _context.stop();}}},_callee);}));return function(_x){return _ref.apply(this,arguments);};}();_this.onInputChange=function(e){_this.setState(_defineProperty({},e.target.name,e.target.value));};return _this;}_createClass(createCustomer,[{key:\"componentDidMount\",value:function(){var _componentDidMount=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:if(!this.props.match.params.id){_context2.next=6;break;}_context2.next=3;return axios.get('/api/customers/'+this.props.match.params.id);case 3:res=_context2.sent;console.log(res.data);this.setState({firstName:res.data.firstName,lastName:res.data.lastName,email:res.data.email,phoneNumber:res.data.phoneNumber,editing:true,id:res.data._id});case 6:case\"end\":return _context2.stop();}}},_callee2,this);}));function componentDidMount(){return _componentDidMount.apply(this,arguments);}return componentDidMount;}()},{key:\"render\",value:function render(){return/*#__PURE__*/React.createElement(\"div\",{className:\"col-md-6 offset-md-3 mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"card card-body\"},/*#__PURE__*/React.createElement(\"h4\",null,\"Create a Customer\"),/*#__PURE__*/React.createElement(\"form\",{onSubmit:this.onSubmit},/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"First Name\",name:\"firstName\",size:\"25\",onChange:this.onInputChange,value:this.state.firstName,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Last Name\",name:\"lastName\",size:\"25\",onChange:this.onInputChange,value:this.state.lastName,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Email\",size:\"25\",name:\"email\",onChange:this.onInputChange,value:this.state.email,required:true})),/*#__PURE__*/React.createElement(\"div\",{className:\"form-group\"},/*#__PURE__*/React.createElement(\"input\",{type:\"text\",className:\"form-control\",placeholder:\"Phone Number\",name:\"phoneNumber\",size:\"9\",maxLength:\"9\",onChange:this.onInputChange,value:this.state.phoneNumber,required:true})),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary\"},this.state.editing?'Update':'Save'))));}}]);return createCustomer;}(Component);export{createCustomer as default};","map":{"version":3,"sources":["/Users/jeferson/Documents/Projects/blaze-test/customers - CRUD/frontend/src/components/CreateCustomer.js"],"names":["React","Component","axios","createCustomer","state","firstName","lastName","email","phoneNumber","editing","id","onSubmit","e","preventDefault","newCustomer","put","post","setState","window","location","href","onInputChange","target","name","value","props","match","params","get","res","console","log","data","_id"],"mappings":"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","sourcesContent":["import React, { Component } from 'react'\nimport axios from 'axios'\n\n\nexport default class createCustomer extends Component {\n    state = {\n        firstName: '',\n        lastName: '',\n        email: '',\n        phoneNumber: '',\n        editing: false,\n        id: ''\n    }\n    async componentDidMount() {\n        // const res = await axios.get('http://localhost:4300/api/customers/');\n        // this.setState({customers: res.data});\n        if(this.props.match.params.id){\n            const res = await axios.get('/api/customers/'+this.props.match.params.id);\n            console.log(res.data);\n            this.setState({\n                firstName: res.data.firstName,\n                lastName: res.data.lastName,\n                email: res.data.email,\n                phoneNumber: res.data.phoneNumber,\n                editing: true,\n                id: res.data._id\n            });\n        }\n    }\n    onSubmit = async (e) => {\n        e.preventDefault();\n        const newCustomer = {\n            firstName: this.state.firstName,\n            lastName: this.state.lastName,\n            email: this.state.email,\n            phoneNumber: this.state.phoneNumber,\n        }\n        if(this.state.editing){\n            await axios.put('/api/customers/'+this.state.id, newCustomer);\n        } else {\n            await axios.post('/api/customers', newCustomer);\n            \n            this.setState({\n                firstName: '',\n                lastName: '',\n                email: '',\n                phoneNumber: '',\n            })\n            \n        }\n        \n        \n        window.location.href = '/';\n    }\n    onInputChange = (e) => {\n        this.setState({\n            [e.target.name]: e.target.value\n            })\n    }\n    render() {\n        return (\n            <div className=\"col-md-6 offset-md-3 mt-4\">\n                <div className='card card-body'>\n                    <h4>Create a Customer</h4>\n\n                    <form onSubmit={this.onSubmit}>\n                        <div className='form-group'>\n                            <input\n                                type='text'\n                                className='form-control'\n                                placeholder='First Name'\n                                name='firstName'\n                                size='25'\n                                onChange={this.onInputChange}\n                                value={this.state.firstName}\n                                required\n                            />\n                        </div>\n                        <div className='form-group'>\n                            <input\n                                type='text'\n                                className='form-control'\n                                placeholder='Last Name'\n                                name='lastName'\n                                size='25'\n                                onChange={this.onInputChange}\n                                value={this.state.lastName}\n                                required\n                            />\n                        </div>\n                        <div className='form-group'>\n                            <input\n                                type='text'\n                                className='form-control'\n                                placeholder='Email'\n                                size='25'\n                                name='email'\n                                onChange={this.onInputChange}\n                                value={this.state.email}\n                                required\n                            />\n                        </div>\n                        <div className='form-group'>\n                            <input\n                                type='text'\n                                className='form-control'\n                                placeholder='Phone Number'\n                                name='phoneNumber'\n                                size='9'\n                                maxLength='9'\n                                onChange={this.onInputChange}\n                                value={this.state.phoneNumber}\n                                required\n                            />\n                        </div>\n                        <button type='submit' className='btn btn-primary'>\n                            {(this.state.editing)?'Update': 'Save'}\n                        </button>\n                    </form>\n                </div>\n            </div>\n        )\n    }\n}\n"]},"metadata":{},"sourceType":"module"}